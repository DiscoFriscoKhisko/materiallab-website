/**
 * MaterialLab Typography System
 * 
 * Comprehensive typography system supporting MaterialLab's dual brand personality:
 * - Thoughtful Expert: Clear, professional, readable
 * - Compelling Presenter: Bold, impactful, geometric
 * 
 * Built with accessibility in mind (WCAG 2.1 AA compliance)
 * Supports 200% text resize and user spacing overrides
 */

/* Import Variable Fonts */
@import '@fontsource-variable/inter';
@import '@fontsource-variable/space-grotesk';
@import url('https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@300;400;500;600;700&display=swap');

/* Typography Foundation Variables */
:root {
  /* Font Families - Aligned with MaterialLab brand */
  --typography-font-family-primary: 'Space Grotesk Variable', 'Space Grotesk', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
  --typography-font-family-secondary: 'Inter Variable', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
  --typography-font-family-mono: 'Source Code Pro', 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, monospace;

  /* Font Sizes - Modular Scale (1.25 ratio) */
  --typography-font-size-xs: 0.75rem;      /* 12px */
  --typography-font-size-sm: 0.875rem;     /* 14px */
  --typography-font-size-base: 1rem;       /* 16px - Foundation */
  --typography-font-size-lg: 1.25rem;      /* 20px */
  --typography-font-size-xl: 1.5625rem;    /* 25px */
  --typography-font-size-2xl: 1.9375rem;   /* 31px */
  --typography-font-size-3xl: 2.4375rem;   /* 39px */
  --typography-font-size-4xl: 3.0625rem;   /* 49px */
  --typography-font-size-5xl: 3.8125rem;   /* 61px */
  --typography-font-size-6xl: 4.75rem;     /* 76px */

  /* Font Weights */
  --typography-font-weight-regular: 400;
  --typography-font-weight-medium: 500;
  --typography-font-weight-semibold: 600;
  --typography-font-weight-bold: 700;

  /* Line Heights - Goldilocks Principle */
  --typography-line-height-tight: 1.1;     /* Large headlines - prevents touching */
  --typography-line-height-snug: 1.2;      /* Medium headlines - balanced */
  --typography-line-height-normal: 1.5;    /* Body text - optimal readability */
  --typography-line-height-relaxed: 1.6;   /* Long form content - enhanced flow */
  --typography-line-height-loose: 1.7;     /* Small text - prevents cramping */

  /* Letter Spacing - Size-based scaling */
  --typography-letter-spacing-tighter: -0.03em;  /* Largest text (5xl-6xl) */
  --typography-letter-spacing-tight: -0.02em;    /* Large text (3xl-4xl) */
  --typography-letter-spacing-normal: 0;         /* Medium text (lg-2xl) */
  --typography-letter-spacing-wide: 0.01em;      /* Body text */
  --typography-letter-spacing-wider: 0.02em;     /* Small text (sm) */
  --typography-letter-spacing-widest: 0.03em;    /* Extra small text (xs) */

  /* Shorthand Font Variables for Easy Access */
  --font-primary: var(--typography-font-family-primary);     /* Space Grotesk - for display/headers */
  --font-secondary: var(--typography-font-family-secondary); /* Inter - for body text */
  --font-mono: var(--typography-font-family-mono);           /* Source Code Pro - for code */
  
  --font-size-xs: var(--typography-font-size-xs);
  --font-size-sm: var(--typography-font-size-sm);
  --font-size-base: var(--typography-font-size-base);
  --font-size-lg: var(--typography-font-size-lg);
  --font-size-xl: var(--typography-font-size-xl);
  --font-size-2xl: var(--typography-font-size-2xl);
  --font-size-3xl: var(--typography-font-size-3xl);
  --font-size-4xl: var(--typography-font-size-4xl);
  --font-size-5xl: var(--typography-font-size-5xl);
  --font-size-6xl: var(--typography-font-size-6xl);
  
  --font-weight-regular: var(--typography-font-weight-regular);
  --font-weight-medium: var(--typography-font-weight-medium);
  --font-weight-semibold: var(--typography-font-weight-semibold);
  --font-weight-bold: var(--typography-font-weight-bold);
  
  --line-height-tight: var(--typography-line-height-tight);
  --line-height-snug: var(--typography-line-height-snug);
  --line-height-normal: var(--typography-line-height-normal);
  --line-height-relaxed: var(--typography-line-height-relaxed);
  --line-height-loose: var(--typography-line-height-loose);
  
  --letter-spacing-tighter: var(--typography-letter-spacing-tighter);
  --letter-spacing-tight: var(--typography-letter-spacing-tight);
  --letter-spacing-normal: var(--typography-letter-spacing-normal);
  --letter-spacing-wide: var(--typography-letter-spacing-wide);
  --letter-spacing-wider: var(--typography-letter-spacing-wider);
  --letter-spacing-widest: var(--typography-letter-spacing-widest);
}

/* Typography Utility Classes */

/* Display Text Styles - Compelling Presenter Voice */
.typography-display-6xl {
  font-family: var(--font-primary);
  font-size: var(--font-size-6xl);
  font-weight: var(--font-weight-bold);
  line-height: var(--line-height-tight);
  letter-spacing: var(--letter-spacing-tighter);
}

.typography-display-5xl {
  font-family: var(--font-primary);
  font-size: var(--font-size-5xl);
  font-weight: var(--font-weight-bold);
  line-height: var(--line-height-tight);
  letter-spacing: var(--letter-spacing-tighter);
}

.typography-display-4xl {
  font-family: var(--font-primary);
  font-size: var(--font-size-4xl);
  font-weight: var(--font-weight-semibold);
  line-height: var(--line-height-snug);
  letter-spacing: var(--letter-spacing-tight);
}

/* Heading Styles - Balanced Personality */
.typography-heading-3xl {
  font-family: var(--font-primary);
  font-size: var(--font-size-3xl);
  font-weight: var(--font-weight-semibold);
  line-height: var(--line-height-snug);
  letter-spacing: var(--letter-spacing-tight);
}

.typography-heading-2xl {
  font-family: var(--font-primary);
  font-size: var(--font-size-2xl);
  font-weight: var(--font-weight-medium);
  line-height: var(--line-height-snug);
  letter-spacing: var(--letter-spacing-normal);
}

.typography-heading-xl {
  font-family: var(--font-primary);
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-medium);
  line-height: var(--line-height-normal);
  letter-spacing: var(--letter-spacing-normal);
}

.typography-heading-lg {
  font-family: var(--font-secondary);
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  line-height: var(--line-height-normal);
  letter-spacing: var(--letter-spacing-wide);
}

/* Body Text Styles - Thoughtful Expert Voice */
.typography-body-large {
  font-family: var(--font-secondary);
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-regular);
  line-height: var(--line-height-relaxed);
  letter-spacing: var(--letter-spacing-wide);
}

.typography-body-base {
  font-family: var(--font-secondary);
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-regular);
  line-height: var(--line-height-normal);
  letter-spacing: var(--letter-spacing-normal);
}

.typography-body-small {
  font-family: var(--font-secondary);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-regular);
  line-height: var(--line-height-loose);
  letter-spacing: var(--letter-spacing-wider);
}

/* Label and UI Text Styles */
.typography-label-large {
  font-family: var(--font-secondary);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  line-height: var(--line-height-normal);
  letter-spacing: var(--letter-spacing-wider);
}

.typography-label-base {
  font-family: var(--font-secondary);
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-medium);
  line-height: var(--line-height-loose);
  letter-spacing: var(--letter-spacing-widest);
}

/* Code and Technical Text Styles */
.typography-code-base {
  font-family: var(--font-mono);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-regular);
  line-height: var(--line-height-relaxed);
  letter-spacing: var(--letter-spacing-normal);
}

.typography-code-block {
  font-family: var(--font-mono);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-regular);
  line-height: var(--line-height-relaxed);
  letter-spacing: var(--letter-spacing-normal);
  background: rgba(0, 0, 0, 0.05);
  padding: 0.25em 0.5em;
  border-radius: 0.25em;
}

/* Semantic HTML Typography Defaults */
h1 { @apply typography-display-4xl; }
h2 { @apply typography-heading-3xl; }
h3 { @apply typography-heading-2xl; }
h4 { @apply typography-heading-xl; }
h5 { @apply typography-heading-lg; }
h6 { @apply typography-heading-lg; }

p, body { @apply typography-body-base; }
small { @apply typography-body-small; }

code { @apply typography-code-base; }
pre code { @apply typography-code-block; }

label { @apply typography-label-large; }
caption { @apply typography-label-base; }

/* WCAG 2.1 AA Compliance Enhancements */

/* Text Resize Support (WCAG 1.4.4) - Maintain layout up to 200% zoom */
@media screen {
  html {
    /* Ensure smooth scaling */
    font-size: 16px;
    scroll-behavior: smooth;
  }

  body {
    /* Maintain readability on zoom */
    word-wrap: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
  }
}

/* Text Spacing Override Support (WCAG 1.4.12) */
/* Content must remain readable when users modify spacing */
* {
  /* Allow user stylesheets to override line-height */
  line-height: inherit !important;
}

/* Ensure minimum spacing requirements are met */
p, div, span, h1, h2, h3, h4, h5, h6 {
  /* Minimum line height of 1.5x font size */
  line-height: max(var(--line-height-normal), 1.5) !important;
  
  /* Minimum paragraph spacing of 2x font size */
  margin-bottom: max(1em, 2em);
  
  /* Allow letter spacing overrides */
  letter-spacing: inherit !important;
  
  /* Allow word spacing overrides */ 
  word-spacing: inherit !important;
}

/* High Contrast Mode Support */
@media (prefers-contrast: high) {
  * {
    /* Ensure sufficient contrast in high contrast mode */
    color: inherit !important;
    background: inherit !important;
  }
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
  * {
    /* Remove animations for users who prefer reduced motion */
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Focus and Selection Styling */
*:focus {
  /* Ensure visible focus indicators */
  outline: 2px solid currentColor;
  outline-offset: 2px;
}

::selection {
  /* Ensure readable text selection */
  background: rgba(0, 0, 0, 0.2);
  color: inherit;
}

/* Responsive Typography Scaling */
@media screen and (max-width: 768px) {
  :root {
    /* Scale down font sizes for mobile */
    --typography-font-size-6xl: 3.8125rem;  /* 61px -> 49px equivalent */
    --typography-font-size-5xl: 3.0625rem;  /* 49px -> 39px equivalent */
    --typography-font-size-4xl: 2.4375rem;  /* 39px -> 31px equivalent */
    --typography-font-size-3xl: 1.9375rem;  /* 31px -> 25px equivalent */
  }
}

@media screen and (max-width: 480px) {
  :root {
    /* Further scale down for small mobile */
    --typography-font-size-6xl: 3.0625rem;  /* 49px equivalent */
    --typography-font-size-5xl: 2.4375rem;  /* 39px equivalent */
    --typography-font-size-4xl: 1.9375rem;  /* 31px equivalent */
    --typography-font-size-3xl: 1.5625rem;  /* 25px equivalent */
  }
}

/* Brand Voice Modifier Classes */

/* Thoughtful Expert Voice - Clean, readable, professional */
.brand-voice-thoughtful-expert {
  font-family: var(--font-primary);
  font-weight: var(--font-weight-regular);
  line-height: var(--line-height-normal);
  letter-spacing: var(--letter-spacing-normal);
}

/* Compelling Presenter Voice - Bold, impactful, geometric */
.brand-voice-compelling-presenter {
  font-family: var(--font-secondary);
  font-weight: var(--font-weight-semibold);
  line-height: var(--line-height-snug);
  letter-spacing: var(--letter-spacing-tight);
}

/* Technical/Nerdy Voice - Precise, monospace, detailed */
.brand-voice-technical {
  font-family: var(--font-mono);
  font-weight: var(--font-weight-regular);
  line-height: var(--line-height-relaxed);
  letter-spacing: var(--letter-spacing-normal);
}

/* Typography Testing Utilities */
.typography-tester {
  /* Container for typography testing */
  max-width: 100%;
  padding: 1rem;
  margin: 1rem 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
  border-radius: 0.5rem;
}

.typography-specimen {
  /* Container for typography specimen display */
  display: grid;
  gap: 2rem;
  padding: 2rem;
}

.typography-specimen-item {
  /* Individual specimen items */
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  padding: 1rem;
  border: 1px solid rgba(0, 0, 0, 0.1);
  border-radius: 0.25rem;
  background: rgba(255, 255, 255, 0.5);
}

.typography-specimen-label {
  /* Labels for specimen items */
  font-family: var(--font-mono);
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-medium);
  color: rgba(0, 0, 0, 0.6);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.typography-specimen-example {
  /* Example text in specimens */
  margin: 0;
}

.typography-specimen-tokens {
  /* Token information display */
  font-family: var(--font-mono);
  font-size: var(--font-size-xs);
  color: rgba(0, 0, 0, 0.5);
  background: rgba(0, 0, 0, 0.05);
  padding: 0.5rem;
  border-radius: 0.25rem;
  white-space: pre-wrap;
}

/* Performance Optimizations */

/* Font Display Optimization */
@font-face {
  font-family: 'Inter Variable';
  font-display: swap; /* Ensure text remains visible during webfont load */
}

@font-face {
  font-family: 'Space Grotesk Variable';
  font-display: swap; /* Ensure text remains visible during webfont load */
}

/* Subpixel Rendering */
body, html {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

/* GPU Acceleration for Smooth Text Scaling */
* {
  transform: translateZ(0);
  will-change: auto;
}

/* Print Styles */
@media print {
  :root {
    /* Optimize for print */
    --typography-font-family-primary: 'Times', serif;
    --typography-font-family-secondary: 'Arial', sans-serif;
  }
  
  * {
    color: black !important;
    background: white !important;
  }
}