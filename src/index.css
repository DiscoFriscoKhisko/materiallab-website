@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari:wght@400;500;600;700&family=Noto+Sans+Kannada:wght@400;500;600;700&display=swap');
@import './styles/tokens.css';
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-family: var(--font-body);
  }
  
  body {
    @apply antialiased bg-background text-on-surface;
  }

  /* Language-specific font adjustments */
  html[lang="hi"] {
    font-family: 'Noto Sans Devanagari', var(--font-body);
  }
  
  html[lang="kn"] {
    font-family: 'Noto Sans Kannada', var(--font-body);
  }
  
  /* Enhanced multilingual typography */
  html[lang="hi"] .font-headline,
  html[lang="hi"] .font-display {
    font-family: 'Noto Sans Devanagari', var(--font-headline);
  }
  
  html[lang="kn"] .font-headline,
  html[lang="kn"] .font-display {
    font-family: 'Noto Sans Kannada', var(--font-headline);
  }
}

/* Keyframes */
@keyframes gradient-shift {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

/* Animation Classes */
.animate-gradient {
  background-size: 200% 200%;
  animation: gradient-shift 4s ease-in-out infinite;
}

/* === SOPHISTICATED SCROLL ANIMATIONS === */
/* Elegant fade-in and slide-up animations with proper timing */

.animate-on-scroll {
  opacity: 0;
  transform: translateY(var(--scroll-offset));
  transition: all var(--duration-scroll) var(--ease-scroll);
}

.animate-on-scroll.in-view {
  opacity: 1;
  transform: translateY(0);
}

/* Staggered animations for lists and grids */
.animate-stagger {
  opacity: 0;
  transform: translateY(var(--scroll-offset));
  transition: all var(--duration-scroll) var(--ease-scroll);
}

.animate-stagger.in-view {
  opacity: 1;
  transform: translateY(0);
}

/* Fade-in animation (no movement) */
.animate-fade {
  opacity: 0;
  transition: opacity var(--duration-scroll) var(--ease-scroll);
}

.animate-fade.in-view {
  opacity: 1;
}

/* Scale animation for images and cards */
.animate-scale {
  opacity: 0;
  transform: scale(0.95);
  transition: all var(--duration-scroll) var(--ease-scroll);
}

.animate-scale.in-view {
  opacity: 1;
  transform: scale(1);
}

/* === SOPHISTICATED MICROINTERACTIONS === */
/* Subtle interactions that provide delightful feedback */

.interactive-hover {
  transition: all var(--duration-base) var(--ease-standard);
}

.interactive-hover:hover {
  transform: scale(var(--hover-scale)) translateY(var(--hover-lift));
}

.interactive-hover:active {
  transform: scale(var(--active-scale));
  transition-duration: var(--duration-fast);
}

/* Button glow effect on hover */
.button-glow {
  position: relative;
  overflow: hidden;
  transition: all var(--duration-base) var(--ease-standard);
}

.button-glow::before {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at center, var(--primary)/20, transparent 70%);
  opacity: 0;
  transition: opacity var(--duration-base) var(--ease-standard);
}

.button-glow:hover::before {
  opacity: 1;
}

/* Magnetic effect for interactive elements */
.magnetic {
  transition: transform var(--duration-base) var(--ease-standard);
}

/* Card hover states */
.card-interactive {
  transition: all var(--duration-base) var(--ease-standard);
}

.card-interactive:hover {
  transform: translateY(var(--hover-lift));
  box-shadow: var(--elevation-3);
}

/* Glassmorphism Utilities */
.glass {
  backdrop-filter: blur(16px) saturate(200%);
  background-color: var(--glass-medium);
  border: 1px solid var(--outline-variant);
}

.glass-dark {
  backdrop-filter: blur(24px) saturate(200%);
  background-color: var(--glass-strong);
  border: 1px solid var(--outline);
}

.glass-card {
  backdrop-filter: blur(16px) saturate(120%);
  background: linear-gradient(135deg, 
    var(--glass-light) 0%, 
    var(--glass-medium) 50%, 
    var(--glass-strong) 100%);
  border: 1px solid var(--outline-variant);
  box-shadow: var(--elevation-2), inset 0 1px 0 rgba(255,255,255,0.1);
  transition: all var(--duration-base) var(--ease-standard);
}

.glass-card:hover {
  backdrop-filter: blur(20px) saturate(140%);
  border-color: var(--primary);
  box-shadow: var(--elevation-3), 
              inset 0 1px 0 rgba(255,255,255,0.2),
              0 0 24px var(--primary)/20;
  transform: translateY(-2px);
}

/* 3D Transform Utilities */
.transform-3d {
  transform-style: preserve-3d;
}

.perspective {
  perspective: 1000px;
}

/* Typography Utilities */
.text-display { 
  font-family: var(--font-display);
  font-weight: var(--font-weight-bold);
}

.text-headline { 
  font-family: var(--font-headline);
  font-weight: var(--font-weight-semibold);
}

.text-title { 
  font-family: var(--font-headline);
  font-weight: var(--font-weight-semibold);
}

.text-body { 
  font-family: var(--font-body);
  font-weight: var(--font-weight-normal);
}

.text-label { 
  font-family: var(--font-body);
  font-weight: var(--font-weight-medium);
}

/* === TYPOGRAPHY & READABILITY UTILITIES === */
/* Enhanced readability and typographic refinement */

.max-line-length {
  max-width: 75ch; /* Optimal 75 characters max line length for readability */
}

.content-width {
  max-width: 65ch; /* Narrower for focused content */
}

.wide-content {
  max-width: 85ch; /* Wider for less dense content */
}

/* Refined spacing for typography hierarchy */
.heading-spacing-tight {
  margin-bottom: 0.5em;
}

.heading-spacing-normal {
  margin-bottom: 0.75em;
}

.paragraph-spacing {
  margin-bottom: 1.5em;
}

.prose-spacing {
  margin-bottom: var(--space-4); /* 32px between prose elements */
}

/* Font weight utilities for refined typography */
.font-weight-display {
  font-weight: var(--text-h1-weight); /* 600 for display text */
}

.font-weight-heading {
  font-weight: var(--text-h2-weight); /* 500 for headings */
}

.font-weight-body {
  font-weight: var(--text-body-weight); /* 400 for body text */
}

.font-weight-button {
  font-weight: var(--text-button-weight); /* 500 for buttons */
}

/* Letter spacing utilities */
.tracking-tight {
  letter-spacing: -0.02em;
}

.tracking-normal {
  letter-spacing: 0;
}

.tracking-wide {
  letter-spacing: 0.025em;
}

.tracking-button {
  letter-spacing: var(--text-button-tracking); /* 0.5px for buttons */
}

/* === ACCESSIBILITY ENHANCEMENTS === */

/* === ENHANCED ACCESSIBILITY FEATURES === */
/* Superior focus states and keyboard navigation */

.focus-visible {
  outline: 2px solid var(--primary);
  outline-offset: 2px;
  border-radius: var(--radius-sm);
  box-shadow: 0 0 0 4px rgba(138, 99, 210, 0.2); /* Subtle glow */
}

.focus-visible-inset {
  box-shadow: inset 0 0 0 2px var(--primary), 0 0 0 4px rgba(138, 99, 210, 0.2);
  outline: none;
}

/* Enhanced button focus states */
.button-focus:focus-visible {
  outline: 2px solid var(--on-primary);
  outline-offset: 2px;
  box-shadow: 0 0 0 4px var(--primary)/30;
}

/* Interactive element minimum touch targets (44px) */
@media (pointer: coarse) {
  button,
  [role="button"],
  input[type="button"],
  input[type="submit"],
  input[type="reset"] {
    min-height: 44px;
    min-width: 44px;
  }
}

/* Screen reader only content */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Focus trap for modals */
.focus-trap {
  position: relative;
}

.focus-trap:focus {
  outline: none;
}

/* High contrast mode enhancements */
@media (prefers-contrast: high) {
  .focus-visible,
  .focus-visible-inset,
  .button-focus:focus-visible {
    outline-width: 3px;
    outline-style: solid;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  :root {
    --outline: rgba(255, 255, 255, 0.6);
    --outline-variant: rgba(255, 255, 255, 0.4);
    --text-weaker: #A0A9BA;
  }
  
  .light-theme {
    --outline: rgba(0, 0, 0, 0.6);
    --outline-variant: rgba(0, 0, 0, 0.4);
    --text-weaker: #495057;
  }
}

/* === MOTION ACCESSIBILITY === */
/* Respect user preferences for reduced motion */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
  
  /* Disable specific animations */
  .animate-gradient,
  .animate-on-scroll,
  .animate-stagger,
  .animate-fade,
  .animate-scale {
    animation: none;
    transform: none !important;
    opacity: 1 !important;
  }
  
  /* Keep essential interactions but reduce motion */
  .interactive-hover:hover,
  .card-interactive:hover {
    transform: none !important;
  }
  
  .magnetic {
    transform: none !important;
  }
}

/* Progressive enhancement for motion */
@media (prefers-reduced-motion: no-preference) {
  /* All our animation classes work normally */
  .animate-on-scroll {
    /* Animation properties already defined above */
  }
}

/* Skip to content link */
.skip-link {
  position: absolute;
  top: -40px;
  left: 6px;
  background: var(--primary);
  color: var(--on-primary);
  padding: 8px 16px;
  text-decoration: none;
  border-radius: var(--radius-sm);
  z-index: 9999;
  transition: top 0.3s ease;
}

.skip-link:focus {
  top: 6px;
  outline: 2px solid var(--on-primary);
  outline-offset: 2px;
}

/* Interactive element sizing for touch */
@media (pointer: coarse) {
  button,
  [role="button"],
  a,
  input,
  select,
  textarea {
    min-height: 44px;
    min-width: 44px;
  }
}

/* Enhanced keyboard navigation */
.keyboard-navigation {
  position: relative;
}

.keyboard-navigation::after {
  content: '';
  position: absolute;
  inset: -2px;
  border: 2px solid transparent;
  border-radius: var(--radius-md);
  transition: border-color var(--duration-fast) var(--ease-standard);
  pointer-events: none;
}

.keyboard-navigation:focus-visible::after {
  border-color: var(--primary);
  box-shadow: 0 0 0 1px var(--background);
}

/* Screen reader only content */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}
